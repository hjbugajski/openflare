# ==============================================================================
# OPENFLARE ENVIRONMENT CONFIGURATION
# ==============================================================================
# Copy this file to .env and configure for your environment.
# Generate APP_KEY with: php artisan key:generate
# ==============================================================================

# ------------------------------------------------------------------------------
# Application
# ------------------------------------------------------------------------------

APP_NAME=OpenFlare
APP_ENV=local                        # local, production
APP_KEY=                             # Required. Generate with: php artisan key:generate
APP_DEBUG=true                       # Set false in production
APP_URL=http://localhost:8000

# ------------------------------------------------------------------------------
# Localization
# ------------------------------------------------------------------------------

APP_LOCALE=en
APP_FALLBACK_LOCALE=en
APP_FAKER_LOCALE=en_US

# ------------------------------------------------------------------------------
# Logging
# ------------------------------------------------------------------------------
# Channels: stack, single, daily, stderr (recommended for Docker)

LOG_CHANNEL=stack
LOG_STACK=single
LOG_DEPRECATIONS_CHANNEL=null
LOG_LEVEL=debug                      # debug, info, warning, error

# ------------------------------------------------------------------------------
# Database
# ------------------------------------------------------------------------------
# Supported: sqlite, mysql, pgsql

DB_CONNECTION=sqlite

# MySQL/PostgreSQL settings (uncomment if not using SQLite)
# DB_HOST=127.0.0.1
# DB_PORT=3306
# DB_DATABASE=openflare
# DB_USERNAME=root
# DB_PASSWORD=

# ------------------------------------------------------------------------------
# Session
# ------------------------------------------------------------------------------

SESSION_DRIVER=database
SESSION_LIFETIME=120
SESSION_ENCRYPT=true
SESSION_PATH=/
SESSION_DOMAIN=null

# ------------------------------------------------------------------------------
# Cache & Queue
# ------------------------------------------------------------------------------

CACHE_STORE=database
QUEUE_CONNECTION=database
BROADCAST_CONNECTION=reverb
FILESYSTEM_DISK=local

# ------------------------------------------------------------------------------
# WebSockets (Laravel Reverb)
# ------------------------------------------------------------------------------
# Real-time updates for monitor status changes.
#
# IMPORTANT: Generate unique secrets for production!
#   openssl rand -hex 16  (for APP_KEY)
#   openssl rand -hex 32  (for APP_SECRET)

REVERB_APP_ID=openflare
REVERB_APP_KEY=openflare-key         # Change in production
REVERB_APP_SECRET=openflare-secret   # Change in production
REVERB_HOST=localhost                # Your domain in production
REVERB_PORT=8080                     # 443 if behind HTTPS proxy
REVERB_SCHEME=http                   # https in production
REVERB_SERVER_HOST=0.0.0.0
REVERB_SERVER_PORT=8080

# Frontend WebSocket connection (auto-populated from above)
VITE_REVERB_APP_KEY="${REVERB_APP_KEY}"
VITE_REVERB_HOST="${REVERB_HOST}"
VITE_REVERB_PORT="${REVERB_PORT}"
VITE_REVERB_SCHEME="${REVERB_SCHEME}"

# ------------------------------------------------------------------------------
# Mail
# ------------------------------------------------------------------------------
# Drivers: log (development), resend (production), smtp
#
# Resend (recommended for production):
#   1. Sign up at https://resend.com
#   2. Create API key
#   3. Set MAIL_MAILER=resend and RESEND_API_KEY

MAIL_MAILER=log
MAIL_FROM_ADDRESS="hello@example.com"
MAIL_FROM_NAME="${APP_NAME}"
RESEND_API_KEY=

# ------------------------------------------------------------------------------
# Monitor Settings
# ------------------------------------------------------------------------------

# MONITORS_TEST_MODE=true            # Disable HTTP checks (for UI testing)
# MONITORS_DISPATCH_LIMIT=500        # Max checks per scheduler run
# MONITORS_RETENTION_DAYS=30         # Days to keep check history

# ------------------------------------------------------------------------------
# Miscellaneous
# ------------------------------------------------------------------------------

BCRYPT_ROUNDS=12
APP_MAINTENANCE_DRIVER=file
VITE_APP_NAME="${APP_NAME}"

# ==============================================================================
# PRODUCTION QUICK REFERENCE
# ==============================================================================
#
# Required changes for production:
#
#   APP_ENV=production
#   APP_DEBUG=false
#   APP_KEY=base64:...               # php artisan key:generate --show
#   APP_URL=https://your-domain.com
#   LOG_CHANNEL=stderr               # For Docker/containers
#
#   REVERB_APP_KEY=<random>          # openssl rand -hex 16
#   REVERB_APP_SECRET=<random>       # openssl rand -hex 32
#   REVERB_HOST=your-domain.com
#   REVERB_PORT=443
#   REVERB_SCHEME=https
#
#   MAIL_MAILER=resend
#   MAIL_FROM_ADDRESS=notifications@your-domain.com
#   RESEND_API_KEY=re_...
#
# ==============================================================================
